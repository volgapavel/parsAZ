# ğŸ›¡ï¸ ClearPic - Azerbaijan Media Monitoring System

Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° Ğ°Ğ·ĞµÑ€Ğ±Ğ°Ğ¹Ğ´Ğ¶Ğ°Ğ½ÑĞºĞ¸Ñ… Ğ¡ĞœĞ˜ Ñ Ğ¸Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸ĞµĞ¼ Ğ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ĞµĞ¹ (NER), Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ¼ Ñ€Ğ¸ÑĞºĞ¾Ğ² Ğ¸ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸ĞµĞ¼ Ğ³Ñ€Ğ°Ñ„Ğ° ÑĞ²ÑĞ·ĞµĞ¹ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¼Ğ¸.

## ğŸ“‹ Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ

- [ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°](#Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ-Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°)
- [Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸](#Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸)
- [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
- [Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚](#Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹-ÑÑ‚Ğ°Ñ€Ñ‚)
- [Web-Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ](#web-Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ)
- [API Reference](#api-reference)
- [Use Cases](#use-cases)
- [ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ](#ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ)
- [Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°](#Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°)
- [Troubleshooting](#troubleshooting)

---

## ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**ClearPic** â€” ÑÑ‚Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑĞ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ´Ğ»Ñ:

1. **ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³Ğ° Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹** Ñ Ğ°Ğ·ĞµÑ€Ğ±Ğ°Ğ¹Ğ´Ğ¶Ğ°Ğ½ÑĞºĞ¸Ñ… Ğ¼ĞµĞ´Ğ¸Ğ°-Ğ¿Ğ¾Ñ€Ñ‚Ğ°Ğ»Ğ¾Ğ² (report.az, azerbaijan.az, trend.az)
2. **Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ñ Ğ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ĞµĞ¹** (NER) â€” Ğ¿ĞµÑ€ÑĞ¾Ğ½Ñ‹, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸, Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸
3. **ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ñ€Ğ¸ÑĞºĞ¾Ğ²** â€” ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ² Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼ Ñ€Ğ¸ÑĞºĞ¾Ğ² (ĞºĞ¾Ñ€Ñ€ÑƒĞ¿Ñ†Ğ¸Ñ, ÑĞ°Ğ½ĞºÑ†Ğ¸Ğ¸, ĞºÑ€Ğ¸Ğ¼Ğ¸Ğ½Ğ°Ğ»)
4. **ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ñ Ğ³Ñ€Ğ°Ñ„Ğ° ÑĞ²ÑĞ·ĞµĞ¹** â€” ĞºÑ‚Ğ¾ Ñ ĞºĞµĞ¼ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ°Ğ»ÑÑ, Ğ³Ğ´Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚, ĞºĞ°ĞºĞ¸Ğµ Ğ¾Ñ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ñ
5. **Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°** â€” NLI-Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ Ğ´Ğ»Ñ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ Ñ‚Ğ¸Ğ¿Ğ° ÑĞ²ÑĞ·Ğ¸ (met_with, works_for)

### Ğ¦ĞµĞ»ĞµĞ²Ğ°Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ

- ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸ compliance Ğ¸ due diligence
- Ğ–ÑƒÑ€Ğ½Ğ°Ğ»Ğ¸ÑÑ‚Ñ‹-Ñ€Ğ°ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸
- Risk-Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ñ‹
- Ğ˜ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ Ğ¼ĞµĞ´Ğ¸Ğ°-Ğ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑÑ‚Ğ²Ğ°

---

## Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

### ğŸ“° ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹

| Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº      | Ğ¡Ñ‚Ğ°Ñ‚ĞµĞ¹  | ĞŸĞµÑ€Ğ¸Ğ¾Ğ´    | ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸         |
| ------------- | ------- | --------- | ------------------- |
| report.az     | 4,000+  | 2014-2025 | ĞÑ€Ñ…Ğ¸Ğ² Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğ°Ğ¼      |
| azerbaijan.az | 7,700+  | 2020-2025 | ĞÑ„Ğ¸Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ€Ñ‚Ğ°Ğ»  |
| trend.az      | 73,000+ | 2014-2025 | AJAX-Ğ¿Ğ°Ğ³Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ, RSS |

### ğŸ” ĞŸĞ¾Ğ¸ÑĞº Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·

- **713+ Ğ¿ĞµÑ€ÑĞ¾Ğ½** Ğ² Ğ¸Ğ½Ğ´ĞµĞºÑĞµ Ñ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑĞ¼Ğ¸
- **3,097 ÑĞ²ÑĞ·ĞµĞ¹** Ğ¼ĞµĞ¶Ğ´Ñƒ ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ÑĞ¼Ğ¸
- **85,000+ ÑÑ‚Ğ°Ñ‚ĞµĞ¹** Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
- **NLI-Ğ¼ĞµÑ‚ĞºĞ¸**: `met_with`, `works_for`, `appointed_to`, `related_to`

### âš ï¸ Ğ£Ñ€Ğ¾Ğ²Ğ½Ğ¸ Ñ€Ğ¸ÑĞºĞ¾Ğ²

| Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ     | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ         | ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ |
| ----------- | ---------------- | ---------- |
| ğŸŸ¢ LOW      | ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº | 685        |
| ğŸŸ¡ MEDIUM   | Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ñ | 27         |
| ğŸ”´ HIGH     | Ğ’Ñ‹ÑĞ¾ĞºĞ¸Ğ¹ Ñ€Ğ¸ÑĞº     | 0          |
| âš« CRITICAL | ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹      | 1          |

---

## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         WEB UI                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Home   â”‚ â”‚ Search  â”‚ â”‚Entities â”‚ â”‚  Stats  â”‚ â”‚ Process â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FastAPI (REST API)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ /api/v1/persons â”‚ â”‚  /api/v1/stats  â”‚ â”‚ /api/v1/process â”‚    â”‚
â”‚  â”‚ /api/v1/search  â”‚ â”‚ /api/v1/index   â”‚ â”‚   /api/v1/top   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚                      â”‚
        â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL   â”‚    â”‚  Person Index   â”‚    â”‚   ML Models     â”‚
â”‚               â”‚    â”‚  (JSON Graph)   â”‚    â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚                 â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  report   â”‚ â”‚    â”‚ â€¢ 713 persons   â”‚    â”‚ â”‚ NER Module  â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚    â”‚ â€¢ 3,097 edges   â”‚    â”‚ â”‚ (XLM-R)     â”‚ â”‚
â”‚ â”‚azerbaijan â”‚ â”‚    â”‚ â€¢ NLI labels    â”‚    â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚    â”‚ â€¢ Risk scores   â”‚    â”‚ â”‚ Risk Class. â”‚ â”‚
â”‚ â”‚   trend   â”‚ â”‚    â”‚ â€¢ Evidence      â”‚    â”‚ â”‚ (Keywords)  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–²
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SCRAPERS                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ report.az   â”‚  â”‚  azerbaijan.az  â”‚  â”‚     trend.az        â”‚  â”‚
â”‚  â”‚ (Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğ°Ğ¼)  â”‚  â”‚   (Ğ¿Ğ¾ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°Ğ¼)â”‚  â”‚ (AJAX + RSS)        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

- Docker 24+
- Docker Compose 2.20+
- 4GB RAM (Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼)
- 10GB ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¼ĞµÑÑ‚Ğ°

### 1. ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº

```bash
# ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹
git clone <repo-url>
cd parsAZ

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ±Ğ°Ğ·Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ API
docker compose up -d db api

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ
docker compose ps
```

### 2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸

```bash
# Health check
curl http://localhost:8000/health
# {"status":"ok","service":"clearpic-api"}

# Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ‘Ğ”
curl http://localhost:8000/api/v1/stats/database
```

### 3. ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Web UI

ĞŸĞµÑ€ĞµĞ¹Ğ´Ğ¸Ñ‚Ğµ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ: **http://localhost:8000**

---

## Web-Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ

| Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°      | URL                            | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ                            |
| ------------- | ------------------------------ | ----------------------------------- |
| ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ    | http://localhost:8000          | ĞĞ±Ğ·Ğ¾Ñ€ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹                       |
| ğŸ” ĞŸĞ¾Ğ¸ÑĞº      | http://localhost:8000/search   | ĞŸĞ¾Ğ»Ğ½Ğ¾Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ğ¾ ÑÑ‚Ğ°Ñ‚ÑŒÑĞ¼     |
| ğŸ‘¤ Ğ¡ÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸   | http://localhost:8000/entities | **ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½** Ñ Ğ³Ñ€Ğ°Ñ„Ğ¾Ğ¼ ÑĞ²ÑĞ·ĞµĞ¹ |
| ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° | http://localhost:8000/stats    | Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ‘Ğ” Ğ¸ Ğ¸Ğ½Ğ´ĞµĞºÑĞ°             |
| ğŸ“ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°  | http://localhost:8000/process  | NER + Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ñ€Ğ¸ÑĞºĞ¾Ğ² Ğ´Ğ»Ñ Ñ‚ĞµĞºÑÑ‚Ğ°      |
| ğŸ“– Swagger    | http://localhost:8000/docs     | Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ API Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ      |

### ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½ (`/entities`)

ĞšĞ»ÑÑ‡ĞµĞ²Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹:

1. **ĞŸĞ¾Ğ¸ÑĞº** â€” Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¸Ğ¼Ñ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: `Ilham Aliyev`, `Agalarov`, `Ceyhun Bayramov`)
2. **ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ°** â€” Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚:
   - Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ñ€Ğ¸ÑĞºĞ° (LOW/MEDIUM/HIGH/CRITICAL)
   - Ğ¡Ğ²ÑĞ·Ğ¸ Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ğ°Ğ¼ (Ğ¿ĞµÑ€ÑĞ¾Ğ½Ñ‹, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸, Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸)
   - NLI-Ğ¼ĞµÑ‚ĞºĞ¸ (`met with`, `works for`) Ñ confidence score
   - Ğ¦Ğ¸Ñ‚Ğ°Ñ‚Ñ‹ Ğ¸Ğ· ÑÑ‚Ğ°Ñ‚ĞµĞ¹ (evidence) ÑĞ¾ ÑÑÑ‹Ğ»ĞºĞ°Ğ¼Ğ¸
3. **Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ²ÑĞ·Ğ¸** â€” Ğ³Ñ€Ğ°Ñ„ Ğ¾Ñ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ğ¹

---

## API Reference

### ĞŸĞ¾Ğ¸ÑĞº Ğ¿ĞµÑ€ÑĞ¾Ğ½

```bash
# ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ¸Ğ¼ĞµĞ½Ğ¸
GET /api/v1/persons/search?q=ĞĞ»Ğ¸ĞµĞ²&limit=10

# ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ¿Ğ¾ ĞºĞ»ÑÑ‡Ñƒ
GET /api/v1/persons/{person_key}?top_neighbors=50&min_support=2

# ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ¿Ğ¾ Ğ¸Ğ¼ĞµĞ½Ğ¸ (ÑƒĞ´Ğ¾Ğ±Ğ½Ñ‹Ğ¹ endpoint)
GET /api/v1/persons/by-name/{name}?top_neighbors=30
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:**

```bash
curl "http://localhost:8000/api/v1/persons/by-name/Ceyhun+Bayramov" | jq
```

**ĞÑ‚Ğ²ĞµÑ‚:**

```json
{
  "status": "ok",
  "person": {
    "person_key": "ceyhun bayramov",
    "display": "Ceyhun Bayramov",
    "match_score": 1.0,
    "risk": {
      "risk_level": "LOW",
      "overall_risk_score": 0.0
    },
    "neighbors_count": 22,
    "neighbors": [
      {
        "display": "Hakan Fidan",
        "type": "person",
        "support_articles": 3,
        "score": 8.14,
        "nli_label": "met with",
        "nli_score": 1.0,
        "evidence": [
          {
            "sentence": "FevralÄ±n 15-dÉ™ AzÉ™rbaycanÄ±n xarici iÅŸlÉ™r naziri Ceyhun Bayramov MÃ¼nxen TÉ™hlÃ¼kÉ™sizlik KonfransÄ± Ã§É™rÃ§ivÉ™sindÉ™ TÃ¼rkiyÉ™nin xarici iÅŸlÉ™r naziri Hakan Fidan ilÉ™ gÃ¶rÃ¼ÅŸÃ¼b.",
            "link": "https://report.az/..."
          }
        ]
      }
    ],
    "semantic_relations": [
      {
        "relation": "met_with",
        "target": "Hakan Fidan",
        "type": "person",
        "nli_score": 1.0
      }
    ]
  }
}
```

### ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ÑĞ¼

```bash
# ĞŸĞ¾Ğ»Ğ½Ğ¾Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº
GET /api/v1/search?query=Agalarov&limit=20

# ĞŸĞ¾Ğ¸ÑĞº Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸
GET /api/v1/search?query=Ğ¿Ñ€ĞµĞ·Ğ¸Ğ´ĞµĞ½Ñ‚&date_from=2024-01-01&date_to=2024-12-31
```

### Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°

```bash
# Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ‘Ğ”
GET /api/v1/stats/database

# Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¸Ğ½Ğ´ĞµĞºÑĞ°
GET /api/v1/index/stats

# Ğ¢Ğ¾Ğ¿ Ğ¿ĞµÑ€ÑĞ¾Ğ½ Ğ¿Ğ¾ ÑĞ²ÑĞ·ÑĞ¼
GET /api/v1/top-persons?limit=20&sort_by=neighbors_total

# Ğ¢Ğ¾Ğ¿ Ğ¿ĞµÑ€ÑĞ¾Ğ½ Ğ¿Ğ¾ Ñ€Ğ¸ÑĞºĞ°Ğ¼
GET /api/v1/top-persons?limit=10&sort_by=risk_score

# ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸
GET /api/v1/stats/recent?limit=20&source=trend
```

### ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ‚ĞµĞºÑÑ‚Ğ° (NER)

```bash
POST /api/v1/process/text
Content-Type: application/json

{
  "text": "ĞŸÑ€ĞµĞ·Ğ¸Ğ´ĞµĞ½Ñ‚ ĞĞ·ĞµÑ€Ğ±Ğ°Ğ¹Ğ´Ğ¶Ğ°Ğ½Ğ° Ä°lham Æliyev Ğ²ÑÑ‚Ñ€ĞµÑ‚Ğ¸Ğ»ÑÑ Ñ Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ¾Ğ¼ ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ¸",
  "analyze_risk": true
}
```

---

## Use Cases

### 1. Due Diligence Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿ĞµÑ€ÑĞ¾Ğ½Ñ‹

**Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹:** Ğ’Ğ°Ğ¼ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ğ°Ñ€Ñ‚Ğ½Ñ‘Ñ€Ğ° Ğ¿ĞµÑ€ĞµĞ´ ÑĞ´ĞµĞ»ĞºĞ¾Ğ¹.

```bash
# 1. ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ñƒ
curl "http://localhost:8000/api/v1/persons/search?q=Emin+Agalarov"

# 2. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ»Ğ½ÑƒÑ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºÑƒ
curl "http://localhost:8000/api/v1/persons/by-name/Emin+Agalarov?top_neighbors=50" | jq

# 3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ€Ğ¸ÑĞºĞ¸ Ğ¸ ÑĞ²ÑĞ·Ğ¸
# - risk_level: LOW/MEDIUM/HIGH
# - neighbors: Ñ ĞºĞµĞ¼ ÑĞ²ÑĞ·Ğ°Ğ½
# - evidence: Ñ†Ğ¸Ñ‚Ğ°Ñ‚Ñ‹ Ğ¸Ğ· ÑÑ‚Ğ°Ñ‚ĞµĞ¹
```

**Ğ˜Ğ»Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Web UI:**

1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ http://localhost:8000/entities
2. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ `Emin Agalarov`
3. Ğ˜Ğ·ÑƒÑ‡Ğ¸Ñ‚Ğµ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºÑƒ Ñ Ñ€Ğ¸ÑĞºĞ°Ğ¼Ğ¸ Ğ¸ ÑĞ²ÑĞ·ÑĞ¼Ğ¸

### 2. ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… ÑĞ²ÑĞ·ĞµĞ¹

**Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹:** ĞÑ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²ÑÑ‚Ñ€ĞµÑ‡ Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ° Ğ¸Ğ½Ğ¾ÑÑ‚Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´ĞµĞ».

```bash
curl "http://localhost:8000/api/v1/persons/by-name/Ceyhun+Bayramov" | jq '.person.semantic_relations[] | select(.relation == "met_with")'
```

**Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:**

```json
{"relation": "met_with", "target": "Abdullah bin Zayed Æl NÉ™hyan", "type": "person", "nli_score": 1.0}
{"relation": "met_with", "target": "Hakan Fidan", "type": "person", "nli_score": 1.0}
```

### 3. ĞŸĞ¾Ğ¸ÑĞº Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹ Ğ¿Ğ¾ Ñ‚ĞµĞ¼Ğµ

**Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹:** ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ²ÑĞµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸ Ğ¿Ñ€Ğ¾ Ğ¸Ğ½Ğ²ĞµÑÑ‚Ğ¸Ñ†Ğ¸Ğ¸.

```bash
curl "http://localhost:8000/api/v1/search?query=investisiya&limit=50" | jq '.results[] | {title, source, date: .published_date}'
```

### 4. ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµĞºÑÑ‚Ğ°

**Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹:** Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ÑŒ ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸Ğ· Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ñ‚ĞµĞºÑÑ‚Ğ°.

```bash
curl -X POST "http://localhost:8000/api/v1/process/text" \
  -H "Content-Type: application/json" \
  -d '{
    "text": "Prezident Ä°lham Æliyev BakÄ±da TÃ¼rkiyÉ™ Prezidenti RÉ™cÉ™b Tayyib ÆrdoÄŸanla gÃ¶rÃ¼ÅŸÃ¼b.",
    "analyze_risk": true
  }' | jq
```

### 5. Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ñ‚Ğ¾Ğ¿-Ğ¿ĞµÑ€ÑĞ¾Ğ½ Ğ´Ğ»Ñ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ°

```bash
# Ğ¢Ğ¾Ğ¿ 20 Ğ¿ĞµÑ€ÑĞ¾Ğ½ Ñ Ğ½Ğ°Ğ¸Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ¼ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾Ğ¼ ÑĞ²ÑĞ·ĞµĞ¹
curl "http://localhost:8000/api/v1/top-persons?limit=20" | jq '.persons[] | "\(.display): \(.neighbors_total) ÑĞ²ÑĞ·ĞµĞ¹, Ñ€Ğ¸ÑĞº: \(.risk_level)"'
```

---

## ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

### ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

| ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ | ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ        |
| ---------- | ------------ | --------------- |
| `DB_HOST`  | `db`         | Ğ¥Ğ¾ÑÑ‚ PostgreSQL |
| `DB_PORT`  | `5432`       | ĞŸĞ¾Ñ€Ñ‚ PostgreSQL |
| `DB_NAME`  | `newsdb`     | Ğ˜Ğ¼Ñ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… |
| `DB_USER`  | `myuser`     | ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ    |
| `DB_PASS`  | `mypass`     | ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ          |

### Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ğ°Ñ€ÑĞµÑ€Ğ¾Ğ²

```bash
# Ğ’ÑĞµ Ğ¿Ğ°Ñ€ÑĞµÑ€Ñ‹ (Ğ² Ñ„Ğ¾Ğ½Ğµ)
docker compose --profile scraper up -d

# ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾ report.az (Ñ Ğ´Ğ°Ñ‚Ğ°Ğ¼Ğ¸)
docker compose run --rm scraper_report python main.py --start-date 2024-01-01 --end-date 2024-12-31

# ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾ trend.az (RSS - Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾)
docker compose run --rm scraper_trend python main_trend.py --mode rss

# ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾ trend.az (Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ğ² - Ğ´Ğ¾Ğ»Ğ³Ğ¾)
docker compose run --rm scraper_trend python main_trend.py --mode ajax --max-pages 1000
```

### ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¿Ğ°Ñ€ÑĞµÑ€Ğ¾Ğ²

```bash
# Ğ›Ğ¾Ğ³Ğ¸ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
docker logs -f trend_scraper

# ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑÑ‚Ğ°Ñ‚ĞµĞ¹ Ğ² Ğ‘Ğ”
docker exec clearpic_db psql -U myuser -d newsdb -c "SELECT 'report' as source, COUNT(*) FROM report UNION ALL SELECT 'azerbaijan', COUNT(*) FROM azerbaijan UNION ALL SELECT 'trend', COUNT(*) FROM trend;"
```

---

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
parsAZ/
â”œâ”€â”€ api/                        # FastAPI Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
â”‚   â”œâ”€â”€ main.py                 # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°, Ñ€Ğ¾ÑƒÑ‚Ñ‹ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†
â”‚   â””â”€â”€ routers/                # API endpoints
â”‚       â”œâ”€â”€ search.py           # /api/v1/persons/*, /api/v1/index/*
â”‚       â”œâ”€â”€ stats.py            # /api/v1/stats/*, /api/v1/search
â”‚       â””â”€â”€ process.py          # /api/v1/process/* (NER, Risk)
â”‚
â”œâ”€â”€ app/                        # ĞŸĞ°Ñ€ÑĞµÑ€Ñ‹ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹
â”‚   â”œâ”€â”€ scraper/
â”‚   â”‚   â”œâ”€â”€ config.py           # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ (Pydantic)
â”‚   â”‚   â”œâ”€â”€ client.py           # HTTP ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ñ Ñ€ĞµÑ‚Ñ€Ğ°ÑĞ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ parsers.py          # ĞŸĞ°Ñ€ÑĞµÑ€ report.az
â”‚   â”‚   â”œâ”€â”€ parsers_azerbaijan.py
â”‚   â”‚   â”œâ”€â”€ parsers_trend.py
â”‚   â”‚   â”œâ”€â”€ pipeline.py         # ĞŸĞ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½ report.az
â”‚   â”‚   â”œâ”€â”€ pipeline_azerbaijan.py
â”‚   â”‚   â””â”€â”€ pipeline_trend.py
â”‚   â””â”€â”€ db/
â”‚       â”œâ”€â”€ connection.py       # ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº PostgreSQL
â”‚       â”œâ”€â”€ models.py           # Pydantic Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
â”‚       â”œâ”€â”€ repository.py       # CRUD Ğ´Ğ»Ñ report
â”‚       â”œâ”€â”€ repository_azerbaijan.py
â”‚       â””â”€â”€ repository_trend.py
â”‚
â”œâ”€â”€ model/                      # ML Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ Ğ¸ Ğ¸Ğ½Ğ´ĞµĞºÑÑ‹
â”‚   â”œâ”€â”€ person_index.json       # Ğ“Ñ€Ğ°Ñ„ Ğ¿ĞµÑ€ÑĞ¾Ğ½ (713 nodes, 3097 edges)
â”‚   â”œâ”€â”€ person_search.py        # ĞŸĞ¾Ğ¸ÑĞº Ğ¸ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ³Ñ€Ğ°Ñ„Ñƒ
â”‚   â”œâ”€â”€ ner_module.py           # NER (XLM-RoBERTa)
â”‚   â”œâ”€â”€ risk_classifier.py      # ĞšĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ñ€Ğ¸ÑĞºĞ¾Ğ²
â”‚   â”œâ”€â”€ nli_relation_labeler.py # NLI Ğ´Ğ»Ñ ÑĞ²ÑĞ·ĞµĞ¹
â”‚   â””â”€â”€ text_utils.py           # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ Ñ‚ĞµĞºÑÑ‚Ğ°
â”‚
â”œâ”€â”€ website/                    # Web UI
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”œâ”€â”€ index.html          # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ
â”‚   â”‚   â”œâ”€â”€ search.html         # ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ÑĞ¼
â”‚   â”‚   â”œâ”€â”€ entities.html       # ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½
â”‚   â”‚   â”œâ”€â”€ stats.html          # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°
â”‚   â”‚   â””â”€â”€ process.html        # NER Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ css/style.css
â”‚       â””â”€â”€ js/search.js
â”‚
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ Dockerfile.api          # API + Web
â”‚   â””â”€â”€ Dockerfile.scraper      # ĞŸĞ°Ñ€ÑĞµÑ€Ñ‹
â”‚
â”œâ”€â”€ docker-compose.yml          # ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ requirements.txt            # Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ°Ñ€ÑĞµÑ€Ğ¾Ğ²
â”œâ”€â”€ requirements-api.txt        # Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ API
â”œâ”€â”€ main.py                     # Entry point report.az
â”œâ”€â”€ main_azerbaijan.py          # Entry point azerbaijan.az
â””â”€â”€ main_trend.py               # Entry point trend.az
```

---

## Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°

### Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº (Ğ±ĞµĞ· Docker)

```bash
# 1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ
python -m venv venv
source venv/bin/activate

# 2. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
pip install -r requirements-api.txt

# 3. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ PostgreSQL (Ğ½ÑƒĞ¶Ğ½Ğ° ÑĞ²Ğ¾Ñ Ğ‘Ğ”)
export DB_HOST=localhost
export DB_PORT=5432
export DB_NAME=newsdb
export DB_USER=myuser
export DB_PASS=mypass

# 4. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ API
uvicorn api.main:app --reload --port 8000
```

### Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ°Ñ€ÑĞµÑ€Ğ°

1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ `app/scraper/parsers_<source>.py`
2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ `app/db/repository_<source>.py`
3. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ `app/scraper/pipeline_<source>.py`
4. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ `main_<source>.py`
5. Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ ÑĞµÑ€Ğ²Ğ¸Ñ Ğ² `docker-compose.yml`

---

## Troubleshooting

### API Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ

```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸
docker logs clearpic_api

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ Ğ‘Ğ”
docker exec clearpic_db pg_isready -U myuser -d newsdb
```

### ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğº Ğ‘Ğ”

```bash
# ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ‘Ğ”
docker compose restart db

# ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ°Ñ‚ÑŒ Ğ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ API
sleep 10
docker compose restart api
```

### ĞšĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ°Ğ·ĞµÑ€Ğ±Ğ°Ğ¹Ğ´Ğ¶Ğ°Ğ½ÑĞºĞ¸Ñ… ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²

Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ, Ñ‡Ñ‚Ğ¾ Ğ‘Ğ” ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ° Ñ UTF-8:

```bash
docker exec clearpic_db psql -U myuser -d newsdb -c "SHOW client_encoding;"
# Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ: UTF8
```

### ĞŸĞ°Ñ€ÑĞµÑ€ "Ğ·Ğ°ÑÑ‚Ñ€ĞµĞ²Ğ°ĞµÑ‚"

```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸
docker logs scraper_trend --tail 50

# ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ñ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼Ğ¸
docker compose run --rm scraper_trend python main_trend.py --mode rss
```

---

## Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

MIT License

---

## ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹

Ğ”Ğ»Ñ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Issues Ğ² Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸.
